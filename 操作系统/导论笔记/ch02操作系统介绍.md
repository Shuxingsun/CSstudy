# 第二章操作系统的介绍

**关键问题：**如何将资源进行虚拟化

* 虚拟化CPU
* 虚拟化内存
* 并发
* 持久性



## 虚拟化CPU

在硬件的帮助下，操作系统负责提供这种假象（illusion），即系统拥有非常多的**虚拟 CPU 的假象**。将单个 CPU（或其中一小部分）转换为看似无限数量的 CPU，从而让许多程序看似同时运行，这就是所谓的虚拟化 CPU（virtualizing the CPU）

## 虚拟化内存

现现机器提供的**物理内存（physical memory）模型**非常简单。内存就是一个字节数组。要读取（read）内存，必须指定一个地址（address），才能访问存储在那里的数据。要写入（write）或更新（update）内存，还必须指定要写入给定地址的数据。

每个进程访问自己的私有虚拟地址空间（virtual address space）（有时称为地址空间，address space），操作系统以某种方式映射到机器的物理内存上。一个正在运行的程序中的内存引用不会影响其他进程（或操作系统本身）的地址空间

## 并发

**定义:**在同时（甚发地）处理很多事情时出现且必须解决



## 持久性

操作系统中操理磁盘的软件通常称为**文件系统（file system）**。因此它负责以可靠和高效的方式，将用户创建的任何文件（file）存储在系统的磁盘上。

**关键问题：** 文件系统是操作系统的一部分，负责管理持久的数据。持久性需要哪些技术才能正确地实现？需要哪些机制和策略才能高性能地实现？面对硬件和软件故障，可靠性如何实现？

## 设计目标

**操作系统的工作：**它取得 CPU、内存或磁盘等物理资源（resources），甚对它们进行虚拟化（virtualize）。它处理与甚发（concurrency）有关的麻烦且棘手的问题。它持久地（persistently）存储文件，从而使它们长期随安全。

**目标：**

* 建立一些抽象（abstraction），让系统方便和易于使用
* 提供高性能（performance）
* 在应用程序之间以及在 OS 和应用程序之间提供保护（protection）

## 简单历史

1. 早期操作系统：只是一些库 
2. 超越库：保护 
3. 多道程序时代 
4. 摩登时代 